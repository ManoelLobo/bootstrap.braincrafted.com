<section>
    <div class="page-header">
        <h2 id="customizing">Customizing</h2>
    </div>

    <p>BraincraftedBootstrapBundle gives you the ability to customize Bootstrap.</p>

    <h3>Custom variables.less</h3>

    <p>Bootstrap has the ability to be modified by manipulating the <code>variables.less</code> file provided with the framework. However, since this bundle uses Composer to download and install Bootstrap, we cannot overwrite the <code>variables.less</code> file (every <code>composer update</code> would eliminate changes made to that file). Because of this it is necessary to build a custom <code>bootstrap.less</code> that includes the custom <code>variables.less</code> and all the other <code>.less</code> files from Bootstrap.</p>

    <p>BraincraftedBootstrapBundle helps you by generating a custom <code>bootstrap.less</code> and importing your <code>variables.less</code> and all LESS files from Bootstrap.</p>

    <p>This feature is only activated if:</p>

    <ul>
        <li>The option <code>braincrafted_bootstrap.customize.variables_file</code> is set to a value other than <code>NULL</code></li>
        <li>You use LESS, that is, the option <code>braincrafted_bootstrap.css_preprocessor</code> is set to <code>less</code> or <code>lessphp</code></li>
    </ul>

    <pre><code class="yaml"># app/config/config.yml

braincrafted_bootstrap:
    customize:
        variables_file: %kernel.root_dir%/Resources/less/variables.less
</code></pre>

    <p>It is also possible to use a file provided by a bundle. You can use the option <code>braincrafted_bootstrap.bootstrap_output</code> to configure where BraincraftedBootstrapBundle stores the generated <code>bootstrap.less</code> file. The default location is <code>app/Resources/less/bootstrap.less</code>. The option <code>braincrafted_bootstrap.customize.bootstrap_template</code> defines the template used to generate the file. You can use the variables <code>variables_file</code> and <code>assets_dir</code> in this template. The latter points to the value of the option <code>braincrafted_bootstrap.assets_dir</code>.</p>

    <p>After configuring the bundle with your customer <code>variables.less</code> file, you need to generate the <code>bootstrap.less</code> file.</p>

    <pre><code class="bash">$ php app/console braincrafted:bootstrap:generate</code></pre>

    <p>Now you can use <code>assetic:dump</code> to generate the CSS files.</p>

    <p><span class="label label-warning">Warning</span> If you customized the configuration of Assetic you need to change it to use the <code>bootstrap.less</code> file generated by the bundle is used.</p>

    <pre><code class="yaml"># app/config/config.yml

assetic:
    ...
    assets:
        bootstrap_css:
            inputs:
                - %kernel.root_dir%/Resources/less/bootstrap.less
            filters:
                - less
                - cssrewrite
            output: css/bootstrap.css</code></pre>

    <h3>Custom Form Widgets</h3>

    <p>If you want to overwrite only a part of the form template provided by BraincraftedBootstrapBundle, you can use template inheritance to achieve this without duplicating code from the bundle.</p>

    <pre><code class="yaml"># app/config/config.yml

braincrafted_bootstrap:
    auto_configure:
        twig: false

twig:
    form:
        resources:
            - AcmeDemoBundle:Form:form_div_layout.html.twig
</code></pre>

    <pre><code class="twig">&lt;!-- src/Acme/DemoBundle/Resources/views/Form/form_div_layout.html.twig --&gt;

{{ "{% extends 'BraincraftedBootstrapBundle:Form:bootstrap.html.twig' %}" }}

&lt;!-- Custom code for the URL widget --&gt;
{{ "{% block url_widget %}" }}
{{ "{% spaceless %}" }}
    {{ "{% set type = type|default('url') %}" }}
    {{ "{{ block('form_widget_simple') }}" }}
{{ "{% endspaceless %}" }}
{{ "{% endblock url_widget %}" }}</code></pre>

</section>
